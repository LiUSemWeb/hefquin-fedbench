
services:
  chebi:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3000:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/chebi.json:/config.json
    command: ["/config.json", "3000", "1"]

  dbpedia-subset:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3001:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/dbpedia-subset.json:/config.json
    command: ["/config.json", "3000", "1"]

  drugbank:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3002:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/drugbank.json:/config.json
    command: ["/config.json", "3000", "1"]

  geonames:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3003:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/geonames.json:/config.json
    command: ["/config.json", "3000", "1"]

  jamendo:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3004:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/jamendo.json:/config.json
    command: ["/config.json", "3000", "1"]

  kegg:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3005:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/kegg.json:/config.json
    command: ["/config.json", "3000", "1"]

  lmdb:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3006:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/lmdb.json:/config.json
    command: ["/config.json", "3000", "1"]

  nyt:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3007:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/nyt.json:/config.json
    command: ["/config.json", "3000", "1"]

  sp2b:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3008:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/sp2b.json:/config.json
    command: ["/config.json", "3000", "1"]

  swdfood:
    image: linkeddatafragments/server:v3.3.0
    ports:
      - "3009:3000"
    volumes:
      - ../../datasets:/datasets
      - ./configs/swdfood.json:/config.json
    command: ["/config.json", "3000", "1"]

  nginx-proxy:
    image: nginx:latest
    ports:
      - "80:80"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    depends_on:
      - chebi          # 4772706 triples
      - dbpedia-subset # 42849609 triples
      - drugbank       # 517023 triples
      - geonames       # 107950085 triples
      - jamendo        # 1049647 triples
      - kegg           # 1090830 triples
      - lmdb           # 6147996 triples
      - nyt            # 335197 triples
      - sp2b           # 10000457 triples
      - swdfood        # 103595 triples
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro